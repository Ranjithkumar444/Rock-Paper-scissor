<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RockPaper</title>
</head>
<body>
    <p>Rock Paper Scissors</p>

    <button onclick="

    playerchoice('rock');
    
    ">Rock</button>

    <button onclick="

    playerchoice('paper');
    
    ">Paper</button>


    <button onclick="
  
    playerchoice('scissor');
       
    ">Scissor</button>
    
    <button onclick="
    score.wins = 0;
    score.lose = 0;
    score.tie  = 0;
    localStrorage.remove('score')
    ">Reset Score</button>

    <script>
        const score = JSON.parse(localStorage.getItem('score'));
        if(score === null){
            score = {
                wins : 0,
                lose : 0,
                tie  : 0, 
            }
        }
        function pickbycomputer(){
            let computerMove = '';
            const randomNum = Math.random();
            
            if(randomNum >=0 && randomNum < 1/3){
                computerMove = 'rock';
            }
            else if (randomNum >= 1/3 && randomNum < 2/3){
                computerMove = 'paper';
            }
            else{
                computerMove = 'scissor';
            }
           return computerMove;
        }

        function playerchoice(choice){
            const computerMove = pickbycomputer();
            let result = '';
            if(choice === 'rock'){
                if(computerMove === 'rock'){
                    result = 'Tie';
                }
                else if(computerMove === 'paper'){
                    result = 'You Lose';
                }
                else if(computerMove === 'scissor'){
                    result = 'You Win';
                }
                
            }
            if(choice === 'paper'){
                if(computerMove === 'rock'){
                    result = 'You Win';
                }
                else if(computerMove === 'paper'){
                    result = 'Tie';
                }
                else if(computerMove === 'scissor'){
                    result = 'You Lose';
                }
                
            }
            if(choice === 'scissor'){
                if(computerMove === 'rock'){
                    result = 'You Lose';
                }
                else if(computerMove === 'paper'){
                    result = 'You Win';
                }
                else if(computerMove === 'scissor'){
                    result = 'Tie';
                }
            }

            if(result === 'You Win'){
                score.wins += 1;
            }
            else if(result === 'You Lose'){
                score.lose += 1;
            }
            else if (result === 'Tie'){
                score.tie += 1;
            }
            localStorage.setItem('score', JSON.stringify(score));

            alert(`you selected ${choice} . computer selected ${computerMove} . the result is ${result}
            wins : ${score.wins} loses : ${score.lose} tie : ${score.tie}`);
        }
        
       
    </script>

</body>
</html>